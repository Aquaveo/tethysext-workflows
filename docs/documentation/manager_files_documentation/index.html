<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/manager_files_documentation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Managers | Tethys Workflows Extension</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aquaveo.github.io/tethysext-workflows/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aquaveo.github.io/tethysext-workflows/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aquaveo.github.io/tethysext-workflows/docs/documentation/manager_files_documentation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Managers | Tethys Workflows Extension"><meta data-rh="true" name="description" content="When creating applications using the Tethys Workflows Extension, you&#x27;ll often need a Map Manager class and a Spatial Manager class. This documentation will provide help on creating those files."><meta data-rh="true" property="og:description" content="When creating applications using the Tethys Workflows Extension, you&#x27;ll often need a Map Manager class and a Spatial Manager class. This documentation will provide help on creating those files."><link data-rh="true" rel="icon" href="/tethysext-workflows/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/manager_files_documentation"><link data-rh="true" rel="alternate" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/manager_files_documentation" hreflang="en"><link data-rh="true" rel="alternate" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/manager_files_documentation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/tethysext-workflows/blog/rss.xml" title="Tethys Workflows Extension RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tethysext-workflows/blog/atom.xml" title="Tethys Workflows Extension Atom Feed"><link rel="stylesheet" href="/tethysext-workflows/assets/css/styles.2476a661.css">
<script src="/tethysext-workflows/assets/js/runtime~main.e26c734c.js" defer="defer"></script>
<script src="/tethysext-workflows/assets/js/main.c13e11f2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tethysext-workflows/"><div class="navbar__logo"><img src="/tethysext-workflows/img/tethys-icon-only.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tethysext-workflows/img/tethys-icon-only.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tethys Workflows</b></a><a class="navbar__item navbar__link" href="/tethysext-workflows/docs/category/tutorial">Tutorial</a><a class="navbar__item navbar__link" href="/tethysext-workflows/docs/category/documentation">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Aquaveo/tethysext-workflows" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tethysext-workflows/docs/category/tutorial-1">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tethysext-workflows/docs/category/documentation-1">Documentation</a><button aria-label="Collapse sidebar category &#x27;Documentation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tethysext-workflows/docs/documentation/workflow_steps_documentation">Workflow Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tethysext-workflows/docs/documentation/workflow_results_documentation">Workflow Results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tethysext-workflows/docs/documentation/manager_files_documentation">Managers</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tethysext-workflows/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tethysext-workflows/docs/category/documentation-1"><span itemprop="name">Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Managers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Managers</h1></header><p>When creating applications using the Tethys Workflows Extension, you&#x27;ll often need a Map Manager class and a Spatial Manager class. This documentation will provide help on creating those files.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="map-manager">Map Manager<a href="#map-manager" class="hash-link" aria-label="Direct link to Map Manager" title="Direct link to Map Manager">​</a></h2>
<p>Map Managers help us prepare and configure the interactive maps used in workflows. The best way to build a map manager class is to build on the MapManagerBase class included in the Workflows Extension.</p>
<p>To do so, you&#x27;ll need the following imports:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tethys_gizmos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gizmo_options </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MapView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MVView</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tethysext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">map_manager </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MapManagerBase</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods:<a href="#methods" class="hash-link" aria-label="Direct link to Methods:" title="Direct link to Methods:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="__init__self-spatial_manager"><code>__init__(self, spatial_manager)</code><a href="#__init__self-spatial_manager" class="hash-link" aria-label="Direct link to __init__self-spatial_manager" title="Direct link to __init__self-spatial_manager">​</a></h4>
<ul>
<li>Description: Initializer used for the Map Manager class.</li>
<li>Parameters:<!-- -->
<ul>
<li>spatial_manager(tethysext.workflows.services.base_spatial_manager.BaseSpatialManager): the spatial manager class assigned to this map manager</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="compose_mapself-request-args-kwargs"><code>compose_map(self, request, *args, **kwargs)</code><a href="#compose_mapself-request-args-kwargs" class="hash-link" aria-label="Direct link to compose_mapself-request-args-kwargs" title="Direct link to compose_mapself-request-args-kwargs">​</a></h4>
<ul>
<li>Description: Abstract method to be overriden to prepare the map with any desired layer(s)</li>
<li>Parameters:<!-- -->
<ul>
<li>request(HttpRequest): A Django request object.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>MapView object</li>
<li>extent</li>
</ul>
</li>
<li>Example:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compose_map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    layers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    layer_groups </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/path/to/geojson_file&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;r&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> geojson_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        geojson_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> geojson_file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    geojson_layer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_geojson_layer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geojson_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GeoJSON Layer Name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GeoJSON Layer Title&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;geojson_layer_var&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;geojson_layer_id&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    layers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geojson_layer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    layer_group </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_Layer_group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;layer_group_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GeoJSON Layers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    layer_groups</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer_group</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map_view </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MapView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        height</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;600px&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        width</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;100%&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        controls</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ZoomSlider&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Rotate&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;FullScreen&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        layers</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">layers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        view</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">MVView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            projection</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;EPSG:4326&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            center</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DEFAULT_CENTER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            zoom</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            maxZoom</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            minZoom</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        basemap</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ESRI&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OpenStreetMap&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        legend</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> extent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_map_extent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> map_view</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> extent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layer_groups</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_cesium_tokenself"><code>get_cesium_token(self)</code><a href="#get_cesium_tokenself" class="hash-link" aria-label="Direct link to get_cesium_tokenself" title="Direct link to get_cesium_tokenself">​</a></h4>
<ul>
<li>Description: Get the cesium token for Cesium Views (meant to be overriden with actual cesium API token)</li>
<li>Returns:<!-- -->
<ul>
<li>token(str): the cesium API token</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_param_stringself-kwargs"><code>build_param_string(self, **kwargs)</code><a href="#build_param_stringself-kwargs" class="hash-link" aria-label="Direct link to build_param_stringself-kwargs" title="Direct link to build_param_stringself-kwargs">​</a></h4>
<ul>
<li>Description: Build a VIEWPARAMS or ENV string with given kwargs (e.g.: &#x27;foo:1;bar<!-- -->:baz<!-- -->&#x27;)</li>
<li>Parameters:<!-- -->
<ul>
<li>kwargs: key-value pairs of paramaters</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>param_string(str): parameter string</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_geojson_layerself-geojson-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse-label_optionsnone"><code>build_geojson_layer(self, geojson, layer_name, layer_title, layer_variable, layer_id=&#x27;&#x27;, visible=True, public=True, selectable=False, plottable=False, has_action=False, extent=None, popup_title=None, excluded_properties=None, show_download=False, label_options=None)</code><a href="#build_geojson_layerself-geojson-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse-label_optionsnone" class="hash-link" aria-label="Direct link to build_geojson_layerself-geojson-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse-label_optionsnone" title="Direct link to build_geojson_layerself-geojson-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse-label_optionsnone">​</a></h4>
<ul>
<li>
<p>Description: Build a GeoJSON MVLayer object with supplied arguments</p>
</li>
<li>
<p>Parameters:</p>
<ul>
<li>geojson(dict): Python equivalent GeoJSON FeatureCollection.</li>
<li>layer_name(str): Name of GeoServer layer (e.g.: agwa:3a84ff62-aaaa-bbbb-cccc-1a2b3c4d5a6b7c8d-model_boundaries).</li>
<li>layer_title(str): Title of MVLayer (e.g.: Model Boundaries).</li>
<li>layer_variable(str): Variable type of the layer (e.g.: model_boundaries).</li>
<li>layer_id(UUID, int, str): layer_id for non geoserver layer where layer_name may not be unique.</li>
<li>visible(bool): Layer is visible when True. Defaults to True.</li>
<li>public(bool): Layer is publicly accessible when app is running in Open Portal Mode if True. Defaults to True.</li>
<li>selectable(bool): Enable feature selection. Defaults to False.</li>
<li>plottable(bool): Enable &quot;Plot&quot; button on pop-up properties. Defaults to False.</li>
<li>has_action(bool): Enable &quot;Action&quot; button on pop-up properties. Defaults to False.</li>
<li>extent(list): Extent for the layer (optional)</li>
<li>popup_title(str): Title to display on feature popups. Defaults to layer title.</li>
<li>excluded_properties(list): List of properties to exclude from feature popups.</li>
<li>show_download(boolean): enable download geojson as shapefile. Default is False.</li>
<li>label_options(dict): Dictionary for labeling.  Possibilities include label_property (the name of the
property to label), font (label font), text_align (alignment of the label), offset_x (x offset) (optional)</li>
</ul>
</li>
<li>
<p>Returns:
mv_layer(MVLayer): the layer object</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_cesium_layerself-cesium_type-cesium_json-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse"><code>build_cesium_layer(self, cesium_type, cesium_json, layer_name, layer_title, layer_variable, layer_id=&#x27;&#x27;, visible=True, public=True, selectable=False, plottable=False, has_action=False, extent=None, popup_title=None, excluded_properties=None, show_download=False)</code><a href="#build_cesium_layerself-cesium_type-cesium_json-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse" class="hash-link" aria-label="Direct link to build_cesium_layerself-cesium_type-cesium_json-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse" title="Direct link to build_cesium_layerself-cesium_type-cesium_json-layer_name-layer_title-layer_variable-layer_id-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-popup_titlenone-excluded_propertiesnone-show_downloadfalse">​</a></h4>
<ul>
<li>Description: Build a cesium MVLayer object with supplied arguments.</li>
<li>Parameters:<!-- -->
<ul>
<li>cesium_type(enum): &#x27;CesiumModel&#x27; or &#x27;CesiumPrimitive&#x27;.</li>
<li>cesium_json(dict): Cesium dictionary to describe the layer.</li>
<li>layer_name(str): Name of GeoServer layer (e.g.: agwa:3a84ff62-aaaa-bbbb-cccc-1a2b3c4d5a6b7c8d-model_boundaries).</li>
<li>layer_title(str): Title of MVLayer (e.g.: Model Boundaries).</li>
<li>layer_variable(str): Variable type of the layer (e.g.: model_boundaries).</li>
<li>layer_id(UUID, int, str): layer_id for non geoserver layer where layer_name may not be unique.</li>
<li>visible(bool): Layer is visible when True. Defaults to True.</li>
<li>public(bool): Layer is publicly accessible when app is running in Open Portal Mode if True. Defaults to True.</li>
<li>selectable(bool): Enable feature selection. Defaults to False.</li>
<li>plottable(bool): Enable &quot;Plot&quot; button on pop-up properties. Defaults to False.</li>
<li>has_action(bool): Enable &quot;Action&quot; button on pop-up properties. Defaults to False.</li>
<li>extent(list): Extent for the layer (optional)</li>
<li>popup_title(str): Title to display on feature popups. Defaults to layer title.</li>
<li>excluded_properties(list): List of properties to exclude from feature popups.</li>
<li>show_download(boolean): enable download geojson as shapefile. Default is False.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>mv_layer(MVLayer): the layer object</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_wms_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone-color_ramp_division_kwargsnone-timesnone"><code>build_wms_layer(self, endpoint, layer_name, layer_title, layer_variable, viewparams=None, env=None, visible=True, tiled=True, selectable=False, plottable=False, has_action=False, extent=None, public=True, geometry_attribute=&#x27;geometry&#x27;, layer_id=&#x27;&#x27;, excluded_properties=None, popup_title=None, color_ramp_division_kwargs=None, times=None)</code><a href="#build_wms_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone-color_ramp_division_kwargsnone-timesnone" class="hash-link" aria-label="Direct link to build_wms_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone-color_ramp_division_kwargsnone-timesnone" title="Direct link to build_wms_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone-color_ramp_division_kwargsnone-timesnone">​</a></h4>
<ul>
<li>Description: Build a WMS MVLayer object with supplied arguments.</li>
<li>Parameters:<!-- -->
<ul>
<li>endpoint(str): URL to GeoServer WMS interface.</li>
<li>layer_name(str): Name of GeoServer layer (e.g.: agwa:3a84ff62-aaaa-bbbb-cccc-1a2b3c4d5a6b7c8d-model_boundaries).</li>
<li>layer_title(str): Title of MVLayer (e.g.: Model Boundaries).</li>
<li>layer_variable(str): Variable type of the layer (e.g.: model_boundaries).</li>
<li>layer_id(UUID, int, str): layer_id for non geoserver layer where layer_name may not be unique.</li>
<li>viewparams(str): VIEWPARAMS string.</li>
<li>env(str): ENV string.</li>
<li>visible(bool): Layer is visible when True. Defaults to True.</li>
<li>public(bool): Layer is publicly accessible when app is running in Open Portal Mode if True. Defaults to True.</li>
<li>tiled(bool): Configure as tiled layer if True. Defaults to True.</li>
<li>selectable(bool): Enable feature selection. Defaults to False.</li>
<li>plottable(bool): Enable &quot;Plot&quot; button on pop-up properties. Defaults to False.</li>
<li>has_action(bool): Enable &quot;Action&quot; button on pop-up properties. Defaults to False.</li>
<li>extent(list): Extent for the layer (optional)</li>
<li>popup_title(str): Title to display on feature popups. Defaults to layer title.</li>
<li>excluded_properties(list): List of properties to exclude from feature popups.</li>
<li>geometry_attribute(str): Name of the geometry attribute. Defaults to &quot;geometry&quot;.</li>
<li>color_ramp_division_kwargs(dict): arguments from map_manager.generate_custom_color_ramp_divisions</li>
<li>times (list): List of time steps if layer is time-enabled. Times should be represented as strings in ISO 8601 format (e.g.: [&quot;20210322T112511Z&quot;,      &quot;20210322T122511Z&quot;, &quot;20210322T132511Z&quot;]). Currently only supported in CesiumMapView.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>mv_layer(MVLayer): the layer object</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_arc_gis_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone"><code>build_arc_gis_layer(self, endpoint, layer_name, layer_title, layer_variable, viewparams=None, env=None, visible=True, tiled=True, selectable=False, plottable=False, has_action=False, extent=None, public=True, geometry_attribute=&#x27;geometry&#x27;, layer_id=&#x27;&#x27;, excluded_properties=None, popup_title=None)</code><a href="#build_arc_gis_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone" class="hash-link" aria-label="Direct link to build_arc_gis_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone" title="Direct link to build_arc_gis_layerself-endpoint-layer_name-layer_title-layer_variable-viewparamsnone-envnone-visibletrue-tiledtrue-selectablefalse-plottablefalse-has_actionfalse-extentnone-publictrue-geometry_attributegeometry-layer_id-excluded_propertiesnone-popup_titlenone">​</a></h4>
<ul>
<li>Description: Build an AcrGIS Map Server MVLayer object with supplied arguments</li>
<li>Parameters:<!-- -->
<ul>
<li>endpoint(str): URL to GeoServer WMS interface.</li>
<li>layer_name(str): Name of GeoServer layer (e.g.: agwa:3a84ff62-aaaa-bbbb-cccc-1a2b3c4d5a6b7c8d-model_boundaries).</li>
<li>layer_title(str): Title of MVLayer (e.g.: Model Boundaries).</li>
<li>layer_variable(str): Variable type of the layer (e.g.: model_boundaries).</li>
<li>layer_id(UUID, int, str): layer_id for non geoserver layer where layer_name may not be unique.</li>
<li>viewparams(str): VIEWPARAMS string.</li>
<li>env(str): ENV string.</li>
<li>visible(bool): Layer is visible when True. Defaults to True.</li>
<li>public(bool): Layer is publicly accessible when app is running in Open Portal Mode if True. Defaults to True.</li>
<li>tiled(bool): Configure as tiled layer if True. Defaults to True.</li>
<li>selectable(bool): Enable feature selection. Defaults to False.</li>
<li>plottable(bool): Enable &quot;Plot&quot; button on pop-up properties. Defaults to False.</li>
<li>has_action(bool): Enable &quot;Action&quot; button on pop-up properties. Defaults to False.</li>
<li>extent(list): Extent for the layer (optional)</li>
<li>popup_title(str): Title to display on feature popups. Defaults to layer title.</li>
<li>excluded_properties(list): List of properties to exclude from feature popups.</li>
<li>geometry_attribute(str): Name of the geometry attribute. Defaults to &quot;geometry&quot;.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>mv_layer(MVLayer): the layer object</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="_build_mv_layerself-layer_source-layer_name-layer_title-layer_variable-options-layer_idnone-extentnone-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-excluded_propertiesnone-popup_titlenone-geometry_attributenone-style_mapnone-show_downloadfalse-timesnonelabel_optionsnone"><code>_build_mv_layer(self, layer_source, layer_name, layer_title, layer_variable, options, layer_id=None, extent=None, visible=True, public=True, selectable=False, plottable=False, has_action=False, excluded_properties=None, popup_title=None, geometry_attribute=None, style_map=None, show_download=False, times=None,label_options=None)</code><a href="#_build_mv_layerself-layer_source-layer_name-layer_title-layer_variable-options-layer_idnone-extentnone-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-excluded_propertiesnone-popup_titlenone-geometry_attributenone-style_mapnone-show_downloadfalse-timesnonelabel_optionsnone" class="hash-link" aria-label="Direct link to _build_mv_layerself-layer_source-layer_name-layer_title-layer_variable-options-layer_idnone-extentnone-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-excluded_propertiesnone-popup_titlenone-geometry_attributenone-style_mapnone-show_downloadfalse-timesnonelabel_optionsnone" title="Direct link to _build_mv_layerself-layer_source-layer_name-layer_title-layer_variable-options-layer_idnone-extentnone-visibletrue-publictrue-selectablefalse-plottablefalse-has_actionfalse-excluded_propertiesnone-popup_titlenone-geometry_attributenone-style_mapnone-show_downloadfalse-timesnonelabel_optionsnone">​</a></h4>
<ul>
<li>Description: Build an MVLayer object with supplied arguments.</li>
<li>Parameters:<!-- -->
<ul>
<li>layer_source(str): OpenLayers Source to use for the MVLayer (e.g.: &quot;TileWMS&quot;, &quot;ImageWMS&quot;, &quot;GeoJSON&quot;).</li>
<li>layer_name(str): Name of GeoServer layer (e.g.: agwa:3a84ff62-aaaa-bbbb-cccc-1a2b3c4d5a6b7c8d-model_boundaries).</li>
<li>layer_title(str): Title of MVLayer (e.g.: Model Boundaries).</li>
<li>layer_variable(str): Variable type of the layer (e.g.: model_boundaries).</li>
<li>layer_id(UUID, int, str): layer_id for non geoserver layer where layer_name may not be unique.</li>
<li>visible(bool): Layer is visible when True. Defaults to True.</li>
<li>selectable(bool): Enable feature selection. Defaults to False.</li>
<li>plottable(bool): Enable &quot;Plot&quot; button on pop-up properties. Defaults to False.</li>
<li>has_action(bool): Enable &quot;Action&quot; button on pop-up properties. Defaults to False.</li>
<li>extent(list): Extent for the layer (optional)</li>
<li>popup_title(str): Title to display on feature popups. Defaults to layer title.</li>
<li>excluded_properties(list): List of properties to exclude from feature popups.</li>
<li>geometry_attribute(str): Name of the geometry attribute (optional)</li>
<li>style_map(dict): Style map dictionary. See MVLayer documentation for examples of style maps (optional)</li>
<li>show_download(boolean): enable download layer. (only works for geojson layer).</li>
<li>times (list): List of time steps if layer is time-enabled. Times should be represented as strings in ISO 8601 format (e.g.: [&quot;20210322T112511Z&quot;, &quot;20210322T122511Z&quot;, &quot;20210322T132511Z&quot;]). Currently only supported in CesiumMapView.</li>
<li>label_options(dict): Dictionary for labeling.  Possibilities include label_property (the name of the property to label), font (label font), text_align (alignment of the label), offset_x (x offset) (optional)</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>mv_layer(MVLayer): the MVLayer object</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_layer_groupself-id-display_name-layers-layer_controlcheckbox-visibletrue-publictrue"><code>build_layer_group(self, id, display_name, layers, layer_control=&#x27;checkbox&#x27;, visible=True, public=True)</code><a href="#build_layer_groupself-id-display_name-layers-layer_controlcheckbox-visibletrue-publictrue" class="hash-link" aria-label="Direct link to build_layer_groupself-id-display_name-layers-layer_controlcheckbox-visibletrue-publictrue" title="Direct link to build_layer_groupself-id-display_name-layers-layer_controlcheckbox-visibletrue-publictrue">​</a></h4>
<ul>
<li>Description: Build a layer group object</li>
<li>Parameters:<!-- -->
<ul>
<li>id(str): Unique identifier for the layer group.</li>
<li>display_name(str): Name displayed in MapView layer selector/legend.</li>
<li>layers(list(MVLayer)): List of layers to include in the layer group.</li>
<li>layer_control(str): Type of control for layers. Either &#x27;checkbox&#x27; or &#x27;radio&#x27;. Defaults to checkbox.</li>
<li>visible(bool): Whether layer group is initially visible. Defaults to True.</li>
<li>public(bool): enable public to see this layer group if True.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>layer_group(dict): layer group definition</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_vector_style_mapself">get_vector_style_map(self)<a href="#get_vector_style_mapself" class="hash-link" aria-label="Direct link to get_vector_style_map(self)" title="Direct link to get_vector_style_map(self)">​</a></h4>
<ul>
<li>Description: Builds the style map for vector layers. Override this to change the styles of features on the map.</li>
<li>Returns:<!-- -->
<ul>
<li>style_map(dict): the style map</li>
</ul>
</li>
<li>Example:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    point_fill_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;darkgreen&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    point_outline_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;green&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    line_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;yellow&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    polygon_outline_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;orange&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    polygon_fill_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;red&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style_map </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;Point&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Style&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;image&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Circle&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;radius&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;fill&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Fill&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&#x27;color&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&#x27;color&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;LineString&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Style&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;color&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;width&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;Polygon&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Style&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Stroke&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;color&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;width&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;fill&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ol.style.Fill&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;color&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rgba(255, 215, 0, 0.1)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> style_map   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_wms_endpointself"><code>get_wms_endpoint(self)</code><a href="#get_wms_endpointself" class="hash-link" aria-label="Direct link to get_wms_endpointself" title="Direct link to get_wms_endpointself">​</a></h4>
<ul>
<li>Description: Get the public WMS endpoint for GeoServer</li>
<li>Returns:<!-- -->
<ul>
<li>endpoint(str): the public WMS endpoint</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_map_extentself"><code>get_map_extent(self)</code><a href="#get_map_extentself" class="hash-link" aria-label="Direct link to get_map_extentself" title="Direct link to get_map_extentself">​</a></h4>
<ul>
<li>Description: Get the default view and extent for the project.</li>
<li>Returns:<!-- -->
<ul>
<li>mv_view(MVView): the default view</li>
<li>extent(list): the extent of the project</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="build_legendself-layer-units"><code>build_legend(self, layer, units=&quot;&quot;)</code><a href="#build_legendself-layer-units" class="hash-link" aria-label="Direct link to build_legendself-layer-units" title="Direct link to build_legendself-layer-units">​</a></h4>
<ul>
<li>Description: Build Legend data for a given layer</li>
<li>Parameters:<!-- -->
<ul>
<li>layer: result.layer object</li>
<li>units: unit for the legend.</li>
</ul>
</li>
<li>Returns:
legend_info(dict): Legend data associated with the layer</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="generate_custom_color_ramp_divisionself-min_value-max_value-num_divisions10-value_precision2-first_division1-top_offset0-bottom_offset0--color_ramp-color_prefixcolor-no_data_valuenone"><code>generate_custom_color_ramp_division(self, min_value, max_value, num_divisions=10, value_precision=2, first_division=1, top_offset=0, bottom_offset=0,  color_ramp=&quot;&quot;, color_prefix=&#x27;color&#x27;, no_data_value=None)</code><a href="#generate_custom_color_ramp_divisionself-min_value-max_value-num_divisions10-value_precision2-first_division1-top_offset0-bottom_offset0--color_ramp-color_prefixcolor-no_data_valuenone" class="hash-link" aria-label="Direct link to generate_custom_color_ramp_divisionself-min_value-max_value-num_divisions10-value_precision2-first_division1-top_offset0-bottom_offset0--color_ramp-color_prefixcolor-no_data_valuenone" title="Direct link to generate_custom_color_ramp_divisionself-min_value-max_value-num_divisions10-value_precision2-first_division1-top_offset0-bottom_offset0--color_ramp-color_prefixcolor-no_data_valuenone">​</a></h4>
<ul>
<li>Description: Generate custom elevation divisions.</li>
<li>Parameters:<!-- -->
<ul>
<li>min_value(number): minimum value.</li>
<li>max_value(number): maximum value.</li>
<li>num_divisison(int): number of divisions.</li>
<li>value_precision(int): level of precision for legend values.</li>
<li>first_division(int): first division number (defaults to 1).</li>
<li>top_offset(number): offset from top of color ramp (defaults to 0).</li>
<li>bottom_offset(number): offset from bottom of color ramp (defaults to 0).</li>
<li>prefix(str): name of division variable prefix (i.e.: &#x27;val&#x27; for pattern &#x27;val1&#x27;).</li>
<li>color_ramp(str): color ramp name in COLOR_RAMPS dict. Options are [&#x27;Blue&#x27;, &#x27;Blue and Red&#x27;, &#x27;Flower Field&#x27;, &#x27;Galaxy Berries&#x27;, &#x27;Heat Map&#x27;, &#x27;Olive Harmony&#x27;, &#x27;Mother Earth&#x27;, &#x27;Rainforest Frogs&#x27;, &#x27;Retro FLow&#x27;, &#x27;Sunset Fade&#x27;]</li>
<li>color_prefix(str): name of color variable prefix (i.e.: &#x27;color&#x27; for pattern &#x27;color1&#x27;).</li>
<li>no_data_value (str): set no data value for the color ramp. (defaults to None).</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>divisions(dict(name, value)): custom divisions</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_plot_for_layer_featureself-layer_name-feature_id"><code>get_plot_for_layer_feature(self, layer_name, feature_id)</code><a href="#get_plot_for_layer_featureself-layer_name-feature_id" class="hash-link" aria-label="Direct link to get_plot_for_layer_featureself-layer_name-feature_id" title="Direct link to get_plot_for_layer_featureself-layer_name-feature_id">​</a></h4>
<ul>
<li>Description: Get plot data for given feature on given layer. Override this for your specific application&#x27;s features&#x27; data.</li>
<li>Parameters:<!-- -->
<ul>
<li>layer_name(str): Name/id of layer.</li>
<li>feature_id(str): PostGIS Feature ID of feature.</li>
</ul>
</li>
<li>Returns:<!-- -->
<ul>
<li>plot_title(str): title to appear on plot</li>
<li>plot_data(list(dict)): plot data</li>
<li>layout(dict): layout options</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spatial-manager">Spatial Manager<a href="#spatial-manager" class="hash-link" aria-label="Direct link to Spatial Manager" title="Direct link to Spatial Manager">​</a></h2>
<p>Spatial Managers help us work with geoserver and manage certain configurations for our map managers to use.</p>
<p>You&#x27;ll need to use the BaseSpatialManager class to build your own SpatialManager class to use in your workflows application.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tethysext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">base_spatial_manager </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BaseSpatialManager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There are some methods you&#x27;ll need to override in order to use, along with some that are built in and can be used out the gate. Feel free to override any of these methods to fit your application&#x27;s needs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="built-in-methods">Built-in Methods<a href="#built-in-methods" class="hash-link" aria-label="Direct link to Built-in Methods" title="Direct link to Built-in Methods">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="__init__self-geoserver_engine"><code>__init__(self, geoserver_engine)</code><a href="#__init__self-geoserver_engine" class="hash-link" aria-label="Direct link to __init__self-geoserver_engine" title="Direct link to __init__self-geoserver_engine">​</a></h4>
<ul>
<li>Description: Initializer used for the Spatial Manager class.</li>
<li>Parameters:<!-- -->
<ul>
<li>geoserver_engine(tethys_dataset_services.GeoServerEngine): Tethys GeoServer engine</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create_workspaceself"><code>create_workspace(self)</code><a href="#create_workspaceself" class="hash-link" aria-label="Direct link to create_workspaceself" title="Direct link to create_workspaceself">​</a></h4>
<ul>
<li>Description: Creates a workspace in GeoServer</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_ows_endpointself-public_endpointtrue"><code>get_ows_endpoint(self, public_endpoint=True)</code><a href="#get_ows_endpointself-public_endpointtrue" class="hash-link" aria-label="Direct link to get_ows_endpointself-public_endpointtrue" title="Direct link to get_ows_endpointself-public_endpointtrue">​</a></h4>
<ul>
<li>Description: Returns the GeoServer endpoint for OWS services (with trailing slash).</li>
<li>Parameters:<!-- -->
<ul>
<li>public_endpoint(bool): return with the public endpoint if True.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_wms_endpointself-publictrue"><code>get_wms_endpoint(self, public=True)</code><a href="#get_wms_endpointself-publictrue" class="hash-link" aria-label="Direct link to get_wms_endpointself-publictrue" title="Direct link to get_wms_endpointself-publictrue">​</a></h4>
<ul>
<li>Description: Returns the GeoServer endpoint for WMS services (with trailing slash).</li>
<li>Parameters:<!-- -->
<ul>
<li>public(bool): return with the public endpoint if True.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reloadself-portsnone-public_endpointtrue"><code>reload(self, ports=None, public_endpoint=True)</code><a href="#reloadself-portsnone-public_endpointtrue" class="hash-link" aria-label="Direct link to reloadself-portsnone-public_endpointtrue" title="Direct link to reloadself-portsnone-public_endpointtrue">​</a></h4>
<ul>
<li>Description: Reload the in memory catalog of each member of the geoserver cluster.</li>
<li>Parameters:<!-- -->
<ul>
<li>ports(list): list of ports for GeoServer to use</li>
<li>public_endpoint(bool): use the public geoserver endpoint if True, otherwise use the internal endpoint</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods-to-override">Methods to Override<a href="#methods-to-override" class="hash-link" aria-label="Direct link to Methods to Override" title="Direct link to Methods to Override">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_extent_for_projectself-args-kwargs"><code>get_extent_for_project(self, *args, **kwargs)</code><a href="#get_extent_for_projectself-args-kwargs" class="hash-link" aria-label="Direct link to get_extent_for_projectself-args-kwargs" title="Direct link to get_extent_for_projectself-args-kwargs">​</a></h4>
<ul>
<li>Description: Get extent of the project. This method needs to be overrided and to return a set of four coordinates with the lowest x and y values first, followed by the highest x and y values in this format: [min_x, min_y, max_x, max_y]</li>
<li>Example:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_extent_for_project</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default_extent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">124.67</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25.84</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">66.95</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49.38</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Default for continental USA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> project </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> default_extent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    project_extent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> project</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_attribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;project_extent&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> project_extent </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        corners </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        corners </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">project_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">project_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project_extent</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># get min_x, min_y, max_x, max_y from corners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    min_x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">corner</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> corner </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> corners</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    min_y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">corner</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> corner </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> corners</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">corner</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> corner </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> corners</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">corner</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> corner </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> corners</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">min_x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> min_y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_y</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_projection_unitsself-args-kwargs"><code>get_projection_units(self, *args, **kwargs)</code><a href="#get_projection_unitsself-args-kwargs" class="hash-link" aria-label="Direct link to get_projection_unitsself-args-kwargs" title="Direct link to get_projection_unitsself-args-kwargs">​</a></h4>
<ul>
<li>Description: Get units of the given projection</li>
<li>Example:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tethysext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">atcore</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exceptions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UnitsNotFound</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UnknownUnits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_projection_units</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model_db</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> srid </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_units</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db_engine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model_db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_engine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sql </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SELECT srid, proj4text FROM spatial_ref_sys WHERE srid = {}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db_engine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Parse proj4text to get units</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># e.g.: +proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            proj4text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            units </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                proj4text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">proj4text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            db_engine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proj4parts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj4text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;+&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> part </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> proj4parts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            spart </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> part</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;units&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> spart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                units </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spart</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;units=&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> units</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> UnitsNotFound</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Unable to determine units of project with srid: {}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ft&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> units</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_units</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">U_IMPERIAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;m&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> units</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_units</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">U_METRIC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> UnknownUnits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&quot;{}&quot; is an unrecognized form of units. From srid: {}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">units</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_units</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_projection_stringself-args-kwargs"><code>get_projection_string(self, *args, **kwargs)</code><a href="#get_projection_stringself-args-kwargs" class="hash-link" aria-label="Direct link to get_projection_stringself-args-kwargs" title="Direct link to get_projection_stringself-args-kwargs">​</a></h4>
<ul>
<li>Description: Get the projection string as either wkt or proj4 format</li>
<li>Example:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_projection_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model_db</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> proj_format</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> proj_format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proj_format </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PRO_WKT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> proj_format </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PRO_WKT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PRO_PROJ4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Invalid projection format given: {}. Use either SpatialManager.PRO_WKT or &#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&#x27;SpatialManager.PRO_PROJ4.&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">proj_format</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> srid </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> proj_format </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db_engine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model_db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_engine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> proj_format </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PRO_WKT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sql </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SELECT srtext AS proj_string FROM spatial_ref_sys WHERE srid = {}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sql </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SELECT proj4text AS proj_string FROM spatial_ref_sys WHERE srid = {}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db_engine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            projection_string </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                projection_string </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">proj_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            db_engine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> srid </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">proj_format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projection_string</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_projection_string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">srid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">proj_format</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Aquaveo/tethysext-workflows/edit/main/docs/docs/documentation/manager_files.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tethysext-workflows/docs/documentation/workflow_results_documentation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Workflow Results</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#map-manager" class="table-of-contents__link toc-highlight">Map Manager</a><ul><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods:</a></li></ul></li><li><a href="#spatial-manager" class="table-of-contents__link toc-highlight">Spatial Manager</a><ul><li><a href="#built-in-methods" class="table-of-contents__link toc-highlight">Built-in Methods</a></li></ul></li><li><a href="#methods-to-override" class="table-of-contents__link toc-highlight">Methods to Override</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tethysext-workflows/docs/category/tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/tethysext-workflows/docs/category/documentation">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Tethys Platform, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>