<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/workflow_steps_documentation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Workflow Steps Documentation | Tethys Workflows Extension</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aquaveo.github.io/tethysext-workflows/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aquaveo.github.io/tethysext-workflows/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aquaveo.github.io/tethysext-workflows/docs/documentation/workflow_steps_documentation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Workflow Steps Documentation | Tethys Workflows Extension"><meta data-rh="true" name="description" content="Step Parameters"><meta data-rh="true" property="og:description" content="Step Parameters"><link data-rh="true" rel="icon" href="/tethysext-workflows/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/workflow_steps_documentation"><link data-rh="true" rel="alternate" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/workflow_steps_documentation" hreflang="en"><link data-rh="true" rel="alternate" href="https://aquaveo.github.io/tethysext-workflows/docs/documentation/workflow_steps_documentation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/tethysext-workflows/blog/rss.xml" title="Tethys Workflows Extension RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tethysext-workflows/blog/atom.xml" title="Tethys Workflows Extension Atom Feed"><link rel="stylesheet" href="/tethysext-workflows/assets/css/styles.2476a661.css">
<script src="/tethysext-workflows/assets/js/runtime~main.e26c734c.js" defer="defer"></script>
<script src="/tethysext-workflows/assets/js/main.c13e11f2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tethysext-workflows/"><div class="navbar__logo"><img src="/tethysext-workflows/img/tethys-icon-only.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tethysext-workflows/img/tethys-icon-only.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tethys Workflows</b></a><a class="navbar__item navbar__link" href="/tethysext-workflows/docs/category/tutorial">Tutorial</a><a class="navbar__item navbar__link" href="/tethysext-workflows/docs/category/documentation">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Aquaveo/tethysext-workflows" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tethysext-workflows/docs/category/tutorial-1">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tethysext-workflows/docs/category/documentation-1">Documentation</a><button aria-label="Collapse sidebar category &#x27;Documentation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tethysext-workflows/docs/documentation/workflow_steps_documentation">Workflow Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tethysext-workflows/docs/documentation/workflow_results_documentation">Workflow Results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tethysext-workflows/docs/documentation/manager_files_documentation">Managers</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tethysext-workflows/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tethysext-workflows/docs/category/documentation-1"><span itemprop="name">Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Workflow Steps</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Workflow Steps Documentation</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-parameters">Step Parameters<a href="#step-parameters" class="hash-link" aria-label="Direct link to Step Parameters" title="Direct link to Step Parameters">​</a></h3>
<p>Steps all take certain parameters:</p>
<ul>
<li>
<p>name(str): name of the workflow</p>
</li>
<li>
<p>order(int): place in the workflow order of steps</p>
</li>
<li>
<p>help(str): help text that shows up under the name of the step</p>
</li>
<li>
<p>options(dict): dictionary of options for the step, these options differ for each type of step</p>
<p><strong>Common option available to all steps:</strong></p>
<ul>
<li><code>info_text</code> (str): Optional additional text displayed below the step description to provide more context or guidance to the user. When provided, an <strong>&quot;Info&quot;</strong> button appears beneath the step. Clicking this button opens a popup displaying the guidance text to the user. This text can be raw HTML to include hyperlinks, formatting, etc.</li>
</ul>
</li>
<li>
<p>geoserver_name(str): name for geoserver access</p>
</li>
<li>
<p>map_manager(MapManager): class for managing any spatial features</p>
</li>
<li>
<p>spatial_manager(SpatialManager): class for interacting with geoserver</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-workflow-step">Adding a Workflow Step<a href="#adding-a-workflow-step" class="hash-link" aria-label="Direct link to Adding a Workflow Step" title="Direct link to Adding a Workflow Step">​</a></h3>
<p>Adding workflow steps just requires a bit of code inside your workflow class.</p>
<p>Begin by defining what kind of step you&#x27;re adding and define its parameters and options:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WorkflowBase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creator_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resource_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creator_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> geoserver_nam</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">e map_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spatial_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workflow </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resource_name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">resource_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creator_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">creator_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creator_name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">creator_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spatial_input_step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SpatialInputStep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Basic Spatial Input Step&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            order</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;This is a basic spatial input step&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            options</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;shapes&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;points&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;singular_name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Test Point&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;plural_name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Test Points&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;allow_drawing&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;attributes&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PointAttributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            geoserver_name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">geoserver_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            map_manager</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">map_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            spatial_manager</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">spatial_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, add your new workflow step to your workflow:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    workflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">steps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spatial_input_step</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> workflow</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spatial-input-step">Spatial Input Step<a href="#spatial-input-step" class="hash-link" aria-label="Direct link to Spatial Input Step" title="Direct link to Spatial Input Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Spatial Input Step Screenshot" src="/tethysext-workflows/assets/images/spatial_input_workflow_step_screenshot-21b2cbe7b8a9f924b4474dbf596e3eca.png" width="1919" height="911" class="img_ev3q">
The Spatial Input Step provides an interactive map and multiple options for inputs.</p>
<p>Depending on the shapes option provided, you can add points, lines, polygons, or square/rectangle-shaped extents to the map. Just select an option in the tools in the bottom left corner to get started. In other steps, data can be assigned to features on the map using the Spatial Dataset Step</p>
<p>Options</p>
<ul>
<li>shapes(list): The types of shapes to allow. Any combination of &#x27;points&#x27;, &#x27;lines&#x27;, &#x27;polygons&#x27;, and/or &#x27;extents&#x27;.</li>
<li>singular_name(str): Name to use when referring to a single feature in other areas of the user interface (e.g. &quot;Detention Basin&quot;).</li>
<li>plural_name(str): Name to use when referring to multiple features in other areas of the user interface (e.g. &quot;Detention Basins&quot;).</li>
<li>allow_shapefile(bool): Allow shapfile upload as spatial input. Defaults to True.</li>
<li>allow_drawing(bool): Allow manually drawing shapes. Defaults to True.</li>
<li>snapping_enabled(bool): Enabled snapping when drawing features. Defaults to True.</li>
<li>snapping_layer(dict): Specify a layer to snap to. Create a 1-dict where the key is the dot-path to the layer attribute to use in comparison  and the value is the value to match (e.g. <code>{&#x27;data.layer_id&#x27;: 10}</code>).</li>
<li>snapping_options(dict): Supported options include edge, vertex, pixelTolerance. See: <a href="https://openlayers.org/en/latest/apidoc/module-ol_interaction_Snap.html" target="_blank" rel="noopener noreferrer">https://openlayers.org/en/latest/apidoc/module-ol_interaction_Snap.html</a></li>
<li>allow_image(bool): Allow reference image upload as spatial input.  Defaults to False.</li>
<li>attributes(param.Parameterized): Class defining the attributes for the features added to the map (See example below)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spatial-dataset-step">Spatial Dataset Step<a href="#spatial-dataset-step" class="hash-link" aria-label="Direct link to Spatial Dataset Step" title="Direct link to Spatial Dataset Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Spatial Dataset Step Screenshot" src="/tethysext-workflows/assets/images/spatial_dataset_workflow_step_screenshot-cf23b89ace8aedf421247c1769fefe25.png" width="1919" height="861" class="img_ev3q">
The Spatial Dataset Step builds on the Spatial Input step where features that were placed on the map can be assigned datasets(tables full of data)</p>
<p>Options:</p>
<ul>
<li>geometry_source(varies): Geometry or parent to retrieve the geometry from. For passing geometry, use GeoJSON string.</li>
<li>dataset_title(str): Title of the dataset (e.g.: Hydrograph). Defaults to &#x27;Dataset&#x27;.</li>
<li>template_dataset(pd.DataFrame): A Pandas dataset to use as a template for the dataset. Default is pd.DataFrame(columns=[&#x27;X&#x27;, &#x27;Y&#x27;])</li>
<li>read_only_columns(tuple,list): Names of columns of the template dataset that are read only. All columns are editable by default.</li>
<li>plot_columns(Union[2-tuple, list of 2-tuple]): Two columns to plot. First column given will be plotted on the x axis, the second on the y axis. No plot if - not given. Multiple series plotted if a list of 2-tuple given, ex: [(x1, y1), (x2, y2)].</li>
<li>max_rows(integer): Maximum number of rows allowed in the dataset. No maximum if not given.</li>
<li>empty_rows(integer): The number of empty rows to generate if an no/empty template dataset is given.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="form-input-step">Form Input Step<a href="#form-input-step" class="hash-link" aria-label="Direct link to Form Input Step" title="Direct link to Form Input Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Form Input Step Screenshot" src="/tethysext-workflows/assets/images/form_input_workflow_step_screenshot-5b9831b3ef29d33e5a7aa9214565f874.png" width="1919" height="911" class="img_ev3q">
The Form Input Step allows you to select between various different options in a drop down menu.</p>
<p>Options:</p>
<ul>
<li>form_title(str): Title to be displayed at the top of the form. Defaults to the name of the step.</li>
<li>status_label(str): Custom label for the status select form field. Defaults to &quot;Status&quot;.</li>
<li>param_class(dict): A param class to represent form fields.</li>
<li>renderer(str): Renderer option. Available values are &#x27;django&#x27; and &#x27;bokeh&#x27;. Defauls to &#x27;django&#x27;</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-status-step">Set Status Step<a href="#set-status-step" class="hash-link" aria-label="Direct link to Set Status Step" title="Direct link to Set Status Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Set Status Step Screenshot" src="/tethysext-workflows/assets/images/set_status_workflow_step_screenshot-0144a927054a4facc9c31e5475c0d4db.png" width="1919" height="910" class="img_ev3q">
Set status allows you to set the workflow&#x27;s status as ready or not, along with adding notes for the workflow itself.</p>
<p>Options:</p>
<ul>
<li>form_title(str): Title to be displayed at the top of the form. Defaults to the name of the step.</li>
<li>status_label(str): Custom label for the status select form field. Defaults to &quot;Status&quot;.</li>
<li>statuses(list(dicts(status,label))): List of dictionaries with two keys: &quot;status&quot; and &quot;label&quot;. The value of &quot;status&quot; must be a valid status from the StatusMixin as determined by the valid_statuses() method on the step. The value of the &quot;label&quot; will be what is displayed to the user. If &quot;label&quot; is None or not given, the value of &quot;status&quot; will be displayed to the user.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-input-step">Table Input Step<a href="#table-input-step" class="hash-link" aria-label="Direct link to Table Input Step" title="Direct link to Table Input Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Table Input Step Screenshot" src="/tethysext-workflows/assets/images/table_input_workflow_step_screenshot-37df421c64c1f453a764d924797d5b47.png" width="1918" height="911" class="img_ev3q">
The table input step adds a table input with two columns and any amount of rows. You can specify the column header names.</p>
<p>Options:</p>
<ul>
<li>dataset_title(str): Title of the dataset (e.g.: Hydrograph). Defaults to &#x27;Dataset&#x27;.</li>
<li>template_dataset(pd.DataFrame): A Pandas dataset to use as a template for the dataset. Default is pd.DataFrame(columns=[&#x27;X&#x27;, &#x27;Y&#x27;])</li>
<li>read_only_columns(tuple,list): Names of columns of the template dataset that are read only. All columns are editable by default.</li>
<li>plot_columns(Union[2-tuple, list of 2-tuple]): Two columns to plot. First column given will be plotted on the x axis, the second on the y axis. No plot if not given. Multiple series plotted if a list of 2-tuple given, ex: [(x1, y1), (x2, y2)].</li>
<li>max_rows(integer): Maximum number of rows allowed in the dataset. No maximum if not given.</li>
<li>empty_rows(integer): The number of empty rows to generate if an no/empty template dataset is given.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-step">Job Step<a href="#job-step" class="hash-link" aria-label="Direct link to Job Step" title="Direct link to Job Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Job Step Screenshot" src="/tethysext-workflows/assets/images/job_workflow_step_screenshot-a8f936e1233997f538ac5eef2afe836e.png" width="1918" height="911" class="img_ev3q"></p>
<p>The Job Step allows you to run condor jobs.</p>
<p>Options:</p>
<ul>
<li>scheduler(str): Name of the Condor scheduler to use.</li>
<li>jobs(list(dict)): A list of dictionaries, each containing the kwargs for a CondorWorkflowJobNode.</li>
<li>workflow_kwargs(dict): Additional keyword arguments to pass to the CondorWorkflow.</li>
</ul>
<p>Job steps can also be assigned a result step to view results.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="results-step">Results Step<a href="#results-step" class="hash-link" aria-label="Direct link to Results Step" title="Direct link to Results Step">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Result Step Screenshot" src="/tethysext-workflows/assets/images/results_workflow_step_screenshot-aeace30cab7ba92058e685f92ad37e6f.png" width="1917" height="910" class="img_ev3q"></p>
<p>The results step allows for analysis of the results of your condor jobs and review information provided in previous steps.</p>
<p>Result steps are assigned to earlier job steps as such:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> JobStep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result_step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ResultsStep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_step</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result_step</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Result tabs can then be assigned as such:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_results_tabs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geoserver_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spatial_manager</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Build result tabs here and return in a list.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result_step</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">extend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build_results_tabs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gesoerver_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map_manager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spatial_manager</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Aquaveo/tethysext-workflows/edit/main/docs/docs/documentation/workflow_steps.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tethysext-workflows/docs/category/documentation-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tethysext-workflows/docs/documentation/workflow_results_documentation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Workflow Results</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-parameters" class="table-of-contents__link toc-highlight">Step Parameters</a></li><li><a href="#adding-a-workflow-step" class="table-of-contents__link toc-highlight">Adding a Workflow Step</a></li><li><a href="#spatial-input-step" class="table-of-contents__link toc-highlight">Spatial Input Step</a></li><li><a href="#spatial-dataset-step" class="table-of-contents__link toc-highlight">Spatial Dataset Step</a></li><li><a href="#form-input-step" class="table-of-contents__link toc-highlight">Form Input Step</a></li><li><a href="#set-status-step" class="table-of-contents__link toc-highlight">Set Status Step</a></li><li><a href="#table-input-step" class="table-of-contents__link toc-highlight">Table Input Step</a></li><li><a href="#job-step" class="table-of-contents__link toc-highlight">Job Step</a></li><li><a href="#results-step" class="table-of-contents__link toc-highlight">Results Step</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tethysext-workflows/docs/category/tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/tethysext-workflows/docs/category/documentation">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Tethys Platform, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>